{"version":3,"sources":["SBD_Yellow_Primary.png","App.js","reportWebVitals.js","index.js"],"names":["VIPs","autoSelected","customStyles","option","provided","state","borderBottom","color","isSelected","padding","backgroundColor","control","width","border","singleValue","opacity","isDisabled","transition","targetPeopleIDs","targetProjectIDs","onSelectThumbnail","this","props","item","personIDToBeRemoved","tags","value","index","indexOf","length","splice","alert","caption","personIDToAdd","push","handleProjectChange","e","e2","optionAction","action","removedValue","App","componentDidMount","a","updatePeopleState","peopleThumbnails","existingthumbnails","peoplethumbnails","newimagethumbnails","concat","sort","b","setState","updateProjectState","projectsList","existingprojects","projects","newprojects","OAuth","initialize","popup","done","result","me","data","userId","id","accounts","raw","i","name","getPeopleFunc","theResult","representationalImages","numProcessed","personId","get","person","selectEm","representationalImage","src","avatar_url","thumbnail","thumbnailWidth","thumbnailHeight","title","fail","err","JSON","stringify","getProjectsFunc","projectspage","projectslist","projectsOptions","project","projectSelectOption","label","putPeopleToProject","putData","projectId","put","headers","response","className","style","logo","alt","height","images","onClickThumbnail","options","isMulti","onChange","styles","onClick","fontSize","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.378df0fb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/SBD_Yellow_Primary.146ba792.png\";","import React from 'react'\nimport logo from './SBD_Yellow_Primary.png';\nimport './App.css';\nimport { OAuth } from 'oauthio-web';\nimport Gallery from 'react-grid-gallery';\nimport Select from 'react-select';\n\nconst VIPs = [\n\t12921371, \n\t12964335, \n\t12964336, \n\t12998921, \n\t13325954, \n\t20877820, \n\t36329995, \n\t36330029, \n\t36330129, \n\t36331086, \n\t36492685, \n\t36533990, \n\t36540113, \n\t36540202\n]\n\nconst autoSelected = [\n\t12964335,\n\t36329995,\n\t36330129\n]\n\nconst customStyles = {\n  option: (provided, state) => ({\n    ...provided,\n    borderBottom: '1px dotted yellow',\n    color: state.isSelected ? 'blue' : 'yellow',\n    padding: 20,\n\tbackgroundColor: '#808080',\n\tcolor: '#ffffff'\n  }),\n  control: () => ({\n    // none of react-select's styles are passed to <Control />\n    width: '100%',\n\tborder: '1px dotted yellow'\n  }),\n  singleValue: (provided, state) => {\n    const opacity = state.isDisabled ? 0.5 : 1;\n    const transition = 'opacity 300ms';\n\n    return { ...provided, opacity, transition };\n  }\n}\n\nvar targetPeopleIDs = []\nvar targetProjectIDs = []\n\nfunction onSelectThumbnail() {\n  if (!this.props.item.isSelected) {\n    const personIDToAdd = this.props.item.tags[0].value\n    targetPeopleIDs.push(personIDToAdd)\n    alert(this.props.item.caption + ' has been added!')\n    this.props.item.isSelected = true\n  }\n  else {\n    const personIDToBeRemoved = this.props.item.tags[0].value\n    const index = targetPeopleIDs.indexOf(personIDToBeRemoved)\n\tif (targetPeopleIDs.length === 1) {\n      targetPeopleIDs = []\n\t}\n    else if (index !== -1) {\n      targetPeopleIDs.splice(index, 1) \n    }\n    alert(this.props.item.caption + ' has been removed!')\n    this.props.item.isSelected = false\n  }\n}\n\nfunction handleProjectChange(e, e2) {\n  let optionAction = e2.action\n  if (optionAction === 'select-option') {\n    targetProjectIDs.push(e2.option.value)\n  }\n  else if (optionAction === 'clear') {\n  \ttargetProjectIDs = []\n  }\n  else if (optionAction === 'remove-value') {\n\tconst index = targetProjectIDs.indexOf(e2.removedValue.value)\n\tif (targetProjectIDs.length === 1) {\n\t  targetProjectIDs = []\n\t}\n\telse if (index !== -1) {\n\t  targetProjectIDs.splice(e2.removedValue.value, index)\n\t}\n  }\n  else {\n  \talert('Unrecognized action: ' + optionAction + ' sent to handleProjectChange().')\n  }\t\n}\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      peoplethumbnails : [],\n      projects : []    \n    }\n  }\n\n  componentDidMount = async() => {\n\n    const updatePeopleState = (peopleThumbnails) => {\n      const existingthumbnails = this.state.peoplethumbnails\n      alert('about to set peoplethumbnails 1: ' + peopleThumbnails.length + ' : ' + existingthumbnails.length)\n      if (peopleThumbnails && peopleThumbnails.length > 0) {\n        var newimagethumbnails = existingthumbnails.concat(peopleThumbnails)\n\t\tnewimagethumbnails.sort((a, b) => (a.tags[0].value > b.tags[0].value) ? 1 : -1)\n\t\talert('about to set peoplethumbnails ' + newimagethumbnails.length)\n        this.setState({ peoplethumbnails : newimagethumbnails })\n      }\n    }\n    \n    const updateProjectState = (projectsList) => {\n      const existingprojects = this.state.projects\n\t  if (projectsList && projectsList.length > 0) {\n\t    const newprojects = existingprojects.concat(projectsList)\n        this.setState({ projects : newprojects })\n\t  }\n    }\n\n    OAuth.initialize('HbYXKGPIU3ilvj5XZmgy7PKvUGg')\n    OAuth.popup('basecamp')\n\t.done(function(result) {\n      result.me().done(function(data) {\n\n        var userId = data.id \n        let accounts = data.raw.accounts\n\t\t  for (var i=0;i < accounts.length;i++) {\n          if (accounts[i].name === \"Stanley Black & Decker\") {\n            userId = accounts[i].id\n            break\n          }\n        }\n\t\t\t\t\n        const getPeopleFunc = async(theResult) => {\n\t\t  \n\t\t  var representationalImages = []\n\t\t  var numProcessed = 0\n\t\t  for (const personId of VIPs) {\n            theResult.get(`https://3.basecampapi.com/${userId}/people/${personId}.json`)\n            .done(function(person) {\n\t\t\t  const autoSelectIndex = autoSelected.indexOf(person.id)\n\t\t\t  const selectEm = (autoSelectIndex !== -1)\n\t\t\t  if (selectEm) {\n\t\t\t\ttargetPeopleIDs.push(person.id)\n\t\t\t  }\n\t\t\t  const representationalImage = {\n                src: person.avatar_url,\n                thumbnail: person.avatar_url,\n                thumbnailWidth: 64,\n                thumbnailHeight: 64,\n                isSelected: selectEm,\n                caption: person.name,\n                tags: [{ value: person.id, title: person.name }]\n              }\n\t\t\t  representationalImages.push(representationalImage)\n\t\t\t  numProcessed += 1\n\t\t\t  if (numProcessed === VIPs.length) {\n\t\t        updatePeopleState(representationalImages)         \n\t\t\t  }\n            })\n            .fail(function(err) {\n\t\t\t  numProcessed += 1\n  \t\t\t  if (numProcessed === VIPs.length) {\n  \t\t        updatePeopleState(representationalImages)         \n  \t\t\t  }\n              alert('Failed to get person with id: ' + personId + ' err: ' + JSON.stringify(err)) \n            })   \n\t\t  }\n\t\t  \n        }\n\n        getPeopleFunc(result) \n\n        const getProjectsFunc = async(theResult, projectspage) => {\n          theResult.get(`https://3.basecampapi.com/${userId}/projects.json?page=${projectspage}`)\n          .done(function(projectslist) {\n            var projectsOptions = []\n            for (const project of projectslist) {\n\t\t\t  const projectSelectOption = {\n\t\t\t\t  value: project.id,\n\t\t\t\t  label: project.name\t\t\n\t\t\t  }\t\n\t\t\t  projectsOptions.push(projectSelectOption)\n            }\n            if (projectsOptions.length > 0) {\n              updateProjectState(projectsOptions)\n              getProjectsFunc(result, projectspage + 1)\n            }\n          })\n          .fail(function(err) {\n            alert('Failed to get projects: ' + JSON.stringify(err)) \n          })            \n        }\n\n        getProjectsFunc(result, 1)\n    \n      })\n    })\n    .fail(function(err) {\n      alert('OAuth failed with err: ' + JSON.stringify(err)) \n    })            \n  }\n\n  putPeopleToProject = async() => {\n  \tif (targetPeopleIDs.length === 0 || targetProjectIDs.length === 0) {\n  \t  alert('Please select at least one person and one project.')\n  \t}\n  \telse {\n      OAuth.initialize('HbYXKGPIU3ilvj5XZmgy7PKvUGg')\n  \t  OAuth.popup('basecamp')\n  \t  .done(function(result) {\n  \t    result.me().done(function(data) {\n\n          var userId = data.id \n          let accounts = data.raw.accounts\n          for (var i=0;i < accounts.length;i++) {\n            if (accounts[i].name === \"Stanley Black & Decker\") {\n              userId = accounts[i].id\n              break\n            }\n          }\n\t    \n  \t\t  //console.log('access_token is: ' + result.access_token)\n  \t      const putData = `{ \"grant\" : [${targetPeopleIDs}], \"revoke\" : [] }`\n\t\t\t\t\n          for (const projectId of targetProjectIDs) {\n  \t\t    result.put(`https://3.basecampapi.com/${userId}/projects/${projectId}/people/users.json`, {\n  \t\t\t  headers: {\n  \t\t\t    \"Content-Type\" : \"application/json\"\n  \t\t\t  },\n  \t\t      data: putData\n  \t\t    })\n  \t        .done(function (response) {\n  \t          //this will display the id of the message in the console\n  \t          alert('Success granting users: ' + JSON.stringify(response))\n  \t        })\n  \t        .fail(function (err) {\n  \t          //handle error with err\n  \t\t\t  alert('Failed to grant users: ' + JSON.stringify(targetPeopleIDs) + \n  \t\t\t        ' for project: ' + projectId + ' err: ' + JSON.stringify(err))\n  \t        });\n\t\t  \n  \t\t  }\n\t\t\n  \t    })\n  \t  })\n      .fail(function(err) {\n        alert('OAuth failed with err: ' + JSON.stringify(err)) \n      })            \n  \t}\n  }\n\n  render() {  \n    return (\n    <div className=\"App\">\n      <body className=\"App-header\">\n\t\t<div style={{ 'align' : 'left' }}><img src={logo} alt=\"logo\" width='293.88888888888' height='46'/> Add People to Project Tool (<i>invite only</i>)</div>\n        <div><p/>\n          All People:\n          <div>\n            <Gallery images={this.state.peoplethumbnails} onClickThumbnail={onSelectThumbnail} />\n          </div>     \n        </div>\n\t\t<p/>\n        <div>\n          All Projects: \n\t\t  <div>\n\t\t    <Select id='projectselector' options={this.state.projects} isMulti onChange={handleProjectChange} styles={customStyles} />\n\t\t  </div>\n        </div><p/>\n\t\t<div><button onClick={this.putPeopleToProject} style={{ fontSize : '48px', height : '80px', width : '65%', backgroundColor : '#808080', color : '#ffffff' }}>Add People to Projects</button></div>\n        <p/><p/>\n\t  </body>\n    </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}